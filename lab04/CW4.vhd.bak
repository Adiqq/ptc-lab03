LIBRARY ieee;
USE ieee.std logic 1164.all;
ENTITY CW4 IS
	PORT ( SW : IN STD LOGIC VECTOR(17 DOWNTO 0);
		HEX0 : OUT STD LOGIC VECTOR(0 TO 6));
END CW4;

ARCHITECTURE strukturalna OF CW4 IS

CONSTANT SPACJA: STD_LOGIC_VECTOR(2 DOWNTO 0):=”000”; -- KOD SPACJI

--DEKLARACJA KOMPONENTÓW
COMPONENT mux3bit 8to1 -- muliptekser
	PORT ( S, U0, U1, U2, U3, U4, U5,U6,U7: IN STD LOGIC VECTOR(2 DOWNTO 0);
--WEKTOR STERUJĄCY I 8 wektorów INFORMACYJNYCH
	M0 : OUT STD LOGIC VECTOR(2 DOWNTO 0));
END COMPONENT;

COMPONENT char7seg -- transkoder
	PORT ( C : IN STD LOGIC VECTOR(2 DOWNTO 0);
	Display : OUT STD LOGIC VECTOR(0 TO 6));
END COMPONENT; 

SIGNAL M : STD LOGIC VECTOR(2 DOWNTO 0);

BEGIN
-- KONKRETYZACJA UŻYCIA KOMPONENTÓW
	MUX0: mux 3bit 8to1 PORT MAP (SW(17 DOWNTO 15), SW(14 DOWNTO 12), SW(11 DOWNTO 9),
	SW(8 DOWNTO 6), SW(5 DOWNTO 3), SW(2 DOWNTO 0),SPACJA,SPACJA,SPACJA, M0);
-- KONKRETYZACJE KOLEJNYCH MULTIPLEKSERÓW UKŁADU
H0: char7seg PORT MAP (M0, HEX0);
-- KONKRETYZACJE KOLEJNYCH TRANSKODERÓW
END strukturalna;

-- implementacja multipleksera 8 do 1 (wektor 3 bitowy)
LIBRARY ieee;
USE ieee.std logic 1164.all;
ENTITY mux3bit_8to1 IS
	PORT ( S, U0, U1, U2, U3, U4, U5,U6,U7: IN STD LOGIC VECTOR(2 DOWNTO 0);
	M : OUT STD LOGIC VECTOR(2 DOWNTO 0));
END mux 3bit8to1;

ARCHITECTURE strukturalna OF mux3bit_8to1 IS
 . . . do uzupełnienia
END strukturalna;

-- IMPLEMENTACJA TRANSKODERA
LIBRARY ieee;
USE ieee.std logic 1164.all;
ENTITY char7seg IS
	PORT ( C : IN STD LOGIC VECTOR(2 DOWNTO 0);
	Display : OUT STD LOGIC VECTOR(0 TO 6));
END char 7seg;

ARCHITECTURE strukturalna OF char 7seg IS
 . . . douzupełnienia
END strukturalna;